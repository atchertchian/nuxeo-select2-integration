<div xmlns:f="http://java.sun.com/jsf/core"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:c="http://java.sun.com/jstl/core"
  xmlns:nxu="http://nuxeo.org/nxweb/util"
  xmlns:nxd="http://nuxeo.org/nxweb/document"
  xmlns:nxl="http://nuxeo.org/nxforms/layout">

  <c:set var="namespace" value="#{widget.properties.namespace}" />
  <c:set var="jsonParams" value="{&#34;width&#34;:#{widget.properties['width']},
                                                         &#34;minimumInputLength&#34;:#{widget.properties['minimumInputLength']},
                                                         &#34;query&#34;:&#34;#{widget.properties['query']}&#34;,
                                                         &#34;documentSchemas&#34;:&#34;#{widget.properties['documentSchemas']}&#34;,
                                                         &#34;customFormater&#34;:&#34;#{widget.properties['customFormater']}&#34;,
                                                         &#34;idProperty&#34;:&#34;#{widget.properties['idProperty']}&#34;}" />

  mode = #{widget.mode}
  <c:if test="#{widget.mode == 'view' }">
    <h:outputText value="#{field_0}"/>
  </c:if>

  <c:if test="#{widget.mode == 'edit' }">

   <h:inputHidden id="#{widget.id}-select2" value="#{field_0}"/>
   <input type="hidden" id="#{widget.id}-select2-params" value="#{jsonParams}"/>
    <h:message for="#{widget.id}-select2" styleClass="errorMessage" />
  </c:if>

</div>
